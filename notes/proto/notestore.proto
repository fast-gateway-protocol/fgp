syntax = "proto2";

package notestore;

// Represents a color
message Color {
  required float red = 1;
  required float green = 2;
  required float blue = 3;
  required float alpha = 4;
}

// Represents an attachment (embedded object)
message AttachmentInfo {
   optional string attachment_identifier = 1;
   optional string type_uti = 2;
}

// Represents a font
message Font {
   optional string font_name = 1;
   optional float point_size = 2;
   optional int32 font_hints = 3;
}

// Styles a "Paragraph"
message ParagraphStyle {
    optional int32 style_type = 1 [default = -1];
    optional int32 alignment = 2;
    optional int32 indent_amount = 4;
    optional Checklist checklist = 5;
    optional int32 block_quote = 8;
}

// Represents a checklist item
message Checklist {
  required bytes uuid = 1;
  required int32 done = 2;
}

// Represents a "run" of characters that need to be styled
message AttributeRun {
  required int32 length = 1;
  optional ParagraphStyle paragraph_style = 2;
  optional Font font = 3;
  optional int32 font_weight = 5;
  optional int32 underlined = 6;
  optional int32 strikethrough = 7;
  optional int32 superscript = 8;
  optional string link = 9;
  optional Color color = 10;
  optional AttachmentInfo attachment_info = 12;
}

// Overarching object in a ZNOTEDATA.ZDATA blob
message NoteStoreProto {
  required Document document = 2;
}

// A Document has a Note within it.
message Document {
  required int32 version = 2;
  required Note note = 3;
}

// A Note has both text, and formatting entries.
message Note {
  required string note_text = 2;
  repeated AttributeRun attribute_run = 5;
}
